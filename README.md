# ğŸ”¥ ç‚ä¸Šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ (Enjo Simulator)

SNSæŠ•ç¨¿ã‚’ã€Œç‚ä¸Šã—ã‚„ã™ã„è¡¨ç¾ã€ã«å¤‰æ›ã—ã€äºˆæƒ³ã•ã‚Œã‚‹ãƒªãƒ—ãƒ©ã‚¤ã‚’ç”Ÿæˆã™ã‚‹ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆæ•™è‚²ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆç›®çš„ï¼‰

## âš ï¸ æ³¨æ„äº‹é …

ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ä»¥ä¸‹ã®ç›®çš„ã®ãŸã‚ã«ä½œæˆã•ã‚Œã¦ã„ã¾ã™:

- **æ•™è‚²ç›®çš„**: ç‚ä¸Šã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ç†è§£ã™ã‚‹
- **ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆ**: è¡¨ç¾ã®é•ã„ã«ã‚ˆã‚‹å°è±¡ã®å¤‰åŒ–ã‚’ä½“é¨“ã™ã‚‹
- **ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³å­¦ç¿’**: èª¤è§£ã‚’æ‹›ãã‚„ã™ã„è¡¨ç¾ã‚’å­¦ã¶

**å®Ÿéš›ã®SNSã§ã®ä½¿ç”¨ã‚„ã€ä»–è€…ã¸ã®æ”»æ’ƒãƒ»å«ŒãŒã‚‰ã›ã‚’ç›®çš„ã¨ã—ãŸä½¿ç”¨ã¯å³ç¦ã§ã™ã€‚**

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

é€šå¸¸ã®æŠ•ç¨¿æ–‡ã‚’å…¥åŠ›ã™ã‚‹ã¨ã€Google Gemini APIã‚’ä½¿ç”¨ã—ã¦ã€Œç‚ä¸Šåº¦ãƒ¬ãƒ™ãƒ«ã€ã«å¿œã˜ãŸè¡¨ç¾ã«å¤‰æ›ã—ã¾ã™ã€‚ã•ã‚‰ã«ã€äºˆæƒ³ã•ã‚Œã‚‹ãƒªãƒ—ãƒ©ã‚¤ï¼ˆæ­£è«–æ‰¹åˆ¤ã€æšã’è¶³å–ã‚Šã€çš„å¤–ã‚Œãªæ‰¹åˆ¤ã€éå‰°æ“è­·ï¼‰ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

### ä¸»ãªæ©Ÿèƒ½

1. **ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›**: ç‚ä¸Šåº¦ãƒ¬ãƒ™ãƒ«(1-5)ã«å¿œã˜ãŸè¡¨ç¾å¤‰æ›
2. **ãƒªãƒ—ãƒ©ã‚¤ç”Ÿæˆ**: 4ç¨®é¡ã®å…¸å‹çš„ãªãƒªãƒ—ãƒ©ã‚¤ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•ç”Ÿæˆ
3. **æ¯”è¼ƒè¡¨ç¤º**: å…ƒã®æŠ•ç¨¿ã¨å¤‰æ›å¾Œã‚’ä¸¦ã¹ã¦è¡¨ç¤º
4. **èª¬æ˜ç”Ÿæˆ**: ãªãœç‚ä¸Šã—ã‚„ã™ã„ã®ã‹ã®è§£èª¬

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Go 1.25**
- **gqlgen** - GraphQL ã‚µãƒ¼ãƒãƒ¼
- **Google Gemini API** - AI ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
- **chi** - HTTP ãƒ«ãƒ¼ã‚¿ãƒ¼
- **Air** - ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Next.js 15**
- **React 19**
- **TypeScript 5.6**
- **Apollo Client** - GraphQL ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- **Tailwind CSS** - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### é–‹ç™ºç’°å¢ƒ
- **Docker & Docker Compose**
- **golangci-lint** - Go Linter
- **Make** - ã‚¿ã‚¹ã‚¯è‡ªå‹•åŒ–

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```text
enjo/
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ Makefile
â”œâ”€â”€ PROJECT_RULES.md        # é–‹ç™ºãƒ«ãƒ¼ãƒ« (TDD)
â”œâ”€â”€ README.md
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ .air.toml           # ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰è¨­å®š
â”‚   â”œâ”€â”€ .golangci.yml       # Lintè¨­å®š
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ graph/
â”‚   â”‚   â”œâ”€â”€ schema.graphqls
â”‚   â”‚   â”œâ”€â”€ resolver.go
â”‚   â”‚   â””â”€â”€ generated/
â”‚   â””â”€â”€ gemini/
â”‚       â””â”€â”€ client.go
â””â”€â”€ frontend/
    â”œâ”€â”€ Dockerfile
    â”œâ”€â”€ .env.local.example
    â”œâ”€â”€ package.json
    â”œâ”€â”€ tsconfig.json
    â”œâ”€â”€ next.config.js
    â””â”€â”€ src/
        â”œâ”€â”€ app/
        â”‚   â”œâ”€â”€ layout.tsx
        â”‚   â””â”€â”€ page.tsx
        â”œâ”€â”€ components/
        â”‚   â”œâ”€â”€ TextInput.tsx
        â”‚   â”œâ”€â”€ LevelSlider.tsx
        â”‚   â”œâ”€â”€ ResultDisplay.tsx
        â”‚   â””â”€â”€ ReplyList.tsx
        â””â”€â”€ lib/
            â””â”€â”€ graphql/
                â”œâ”€â”€ client.ts
                â””â”€â”€ queries.ts
```

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### å‰ææ¡ä»¶

- Docker & Docker Compose
- Google Gemini API ã‚­ãƒ¼ ([å–å¾—æ–¹æ³•](https://ai.google.dev/))

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/Tattsum/enjo.git
cd enjo
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
# Makefileã‚’ä½¿ã£ãŸè‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
make setup

# ã¾ãŸã¯æ‰‹å‹•ã§è¨­å®š
cp backend/.env.example backend/.env
cp frontend/.env.local.example frontend/.env.local
```

### 3. Gemini API ã‚­ãƒ¼ã®è¨­å®š

#### æ–¹æ³•1: gcloud ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ï¼ˆæ¨å¥¨ï¼‰

```bash
# Google Cloud SDK ã«ãƒ­ã‚°ã‚¤ãƒ³
gcloud auth login
gcloud config set project YOUR_PROJECT_ID

# Generative Language API ã‚’æœ‰åŠ¹åŒ–
gcloud services enable generativelanguage.googleapis.com

# API ã‚­ãƒ¼ã‚’ä½œæˆ
gcloud alpha services api-keys create \
  --display-name="Enjo Simulator API Key" \
  --api-target=service=generativelanguage.googleapis.com

# ä½œæˆã•ã‚ŒãŸã‚­ãƒ¼ã®ä¸€è¦§ã‚’è¡¨ç¤º
gcloud alpha services api-keys list

# ã‚­ãƒ¼ã®å€¤ã‚’å–å¾—ï¼ˆKEY_ID ã¯ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªï¼‰
gcloud alpha services api-keys get-key-string KEY_ID
```

è©³ç´°ãªæ‰‹é †ã¯ [docs/SETUP_API_KEY.md](docs/SETUP_API_KEY.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

#### æ–¹æ³•2: Google AI Studio ã§å–å¾—

1. [Google AI Studio](https://ai.google.dev/) ã«ã‚¢ã‚¯ã‚»ã‚¹
2. ã€ŒGet API Keyã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. APIã‚­ãƒ¼ã‚’ã‚³ãƒ”ãƒ¼

#### ç’°å¢ƒå¤‰æ•°ã¸ã®è¨­å®š

`backend/.env` ã‚’ç·¨é›†:

```env
GEMINI_API_KEY=your_actual_api_key_here
PORT=8080
```

### 4. Docker Composeã§èµ·å‹•

```bash
# ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
make docker-up

# ã¾ãŸã¯
docker-compose up --build
```

### 5. ã‚¢ã‚¯ã‚»ã‚¹

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: <http://localhost:3000>
- **GraphQL Playground**: <http://localhost:8080/graphql>
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: <http://localhost:8080/health>

## ğŸ§ª é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ (TDD)

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **t-wada ã‚¹ã‚¿ã‚¤ãƒ«**ã®ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º(TDD)ã«å¾“ã„ã¾ã™ã€‚

### Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«

```text
1. Red:      å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
2. Green:    ãƒ†ã‚¹ãƒˆãŒé€šã‚‹æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã
3. Refactor: ã‚³ãƒ¼ãƒ‰ã‚’ãã‚Œã„ã«ã™ã‚‹
4. Repeat:   æ¬¡ã®æ©Ÿèƒ½ã¸
```

### Makeã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤º
make help

# ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ (fmt â†’ lint â†’ test)
make check

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿
make backend-check
make backend-test
make backend-lint
make backend-fmt

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
make frontend-check
make frontend-test
make frontend-lint
make frontend-fmt
```

è©³ç´°ã¯ [PROJECT_RULES.md](PROJECT_RULES.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“ ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

1. ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«æ™®é€šã®æŠ•ç¨¿ã‚’å…¥åŠ›
2. ç‚ä¸Šåº¦ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼(1-5)ã‚’èª¿æ•´
3. ã€ŒğŸ”¥ ç‚ä¸ŠåŒ–ã™ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å…ƒã®æŠ•ç¨¿ã¨å¤‰æ›å¾Œã‚’æ¯”è¼ƒ
5. ã€ŒğŸ’¬ ãƒªãƒ—ãƒ©ã‚¤ã‚’ç”Ÿæˆã€ã§äºˆæƒ³ã•ã‚Œã‚‹ãƒªãƒ—ãƒ©ã‚¤ã‚’è¡¨ç¤º

### ç‚ä¸Šåº¦ãƒ¬ãƒ™ãƒ«

- **ãƒ¬ãƒ™ãƒ«1**: å°‘ã—é…æ…®ã«æ¬ ã‘ã‚‹è¡¨ç¾
- **ãƒ¬ãƒ™ãƒ«2**: èª¤è§£ã‚’æ‹›ãã‚„ã™ã„è¡¨ç¾
- **ãƒ¬ãƒ™ãƒ«3**: æ˜ç¢ºã«æ‰¹åˆ¤ã•ã‚Œãã†ãªè¡¨ç¾
- **ãƒ¬ãƒ™ãƒ«4**: ã‹ãªã‚Šå•é¡ŒãŒã‚ã‚‹è¡¨ç¾
- **ãƒ¬ãƒ™ãƒ«5**: ç‚ä¸Šç¢ºå®Ÿãªè¡¨ç¾

### ãƒªãƒ—ãƒ©ã‚¤ã‚¿ã‚¤ãƒ—

- **æ­£è«–ã§æ‰¹åˆ¤**: è«–ç†çš„ãªæ‰¹åˆ¤
- **æšã’è¶³å–ã‚Š**: äº›ç´°ãªç‚¹ã‚’æŒ‡æ‘˜
- **çš„å¤–ã‚Œãªæ‰¹åˆ¤**: æœ¬è³ªã¨ã¯é–¢ä¿‚ãªã„æ‰¹åˆ¤
- **éå‰°æ“è­·**: éåº¦ã«æ“è­·ã™ã‚‹æ„è¦‹

## ğŸ”§ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼ˆDocker ãªã—ï¼‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

```bash
cd backend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
go mod download

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰)
air

# ã¾ãŸã¯é€šå¸¸èµ·å‹•
go run main.go
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

```bash
cd frontend

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆ

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆ
make test

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ã¿
make backend-test

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿
make frontend-test
```

## ğŸ“Š GraphQL API

### ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

```graphql
query {
  health
}
```

### ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›

```graphql
mutation {
  generateInflammatoryText(input: {
    originalText: "ä»Šæ—¥ã¯ã„ã„å¤©æ°—ã§ã™ã­"
    level: 3
  }) {
    inflammatoryText
    explanation
  }
}
```

### ãƒªãƒ—ãƒ©ã‚¤ç”Ÿæˆ

```graphql
mutation {
  generateReplies(text: "å¤‰æ›ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆ") {
    id
    type
    content
  }
}
```

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™ï¼

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/amazing-feature`)
3. TDDã«å¾“ã£ã¦é–‹ç™º (`make check` ã§ãƒ†ã‚¹ãƒˆ)
4. ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add amazing feature'`)
5. ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/amazing-feature`)
6. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- [PROJECT_RULES.md](PROJECT_RULES.md) ã«å¾“ã£ã¦ãã ã•ã„
- ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
- `make check` ãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

Copyright (c) 2025 Tattsum

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

## ğŸ™ è¬è¾

- [Google Gemini API](https://ai.google.dev/) - AI ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
- [gqlgen](https://gqlgen.com/) - GraphQL ã‚µãƒ¼ãƒãƒ¼
- [Next.js](https://nextjs.org/) - React ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

## ğŸ“® ãŠå•ã„åˆã‚ã›

è³ªå•ã‚„ææ¡ˆãŒã‚ã‚‹å ´åˆã¯ã€[Issues](https://github.com/Tattsum/enjo/issues) ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

---

**Remember**: ã“ã®ãƒ„ãƒ¼ãƒ«ã¯æ•™è‚²ãƒ»ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆç›®çš„ã§ã™ã€‚å®Ÿéš›ã®SNSã§ä»–è€…ã‚’å‚·ã¤ã‘ã‚‹ç›®çš„ã§ã®ä½¿ç”¨ã¯çµ¶å¯¾ã«ã—ãªã„ã§ãã ã•ã„ã€‚
